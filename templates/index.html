{% extends 'layout.html' %}

{% block body %}

<main class="container p-3">
    <h1 id="main-title" class="display-4 text-center mt-4 mb-2">TASKS APP</h1>
    <div class="row ">
        <!-- change the name of the class to resize the card -->
        <div class="col-6 offset-md-3 my-auto">
            <div class="card ">
                <div class="card-header py-2">
                    <form class="form-check  p-0" action="{{ url_for('agregar') }}" method="POST">
                        <div class="form-floating mb-3">
                            <input type="text" name="tarea" class="form-control" id="title-in" placeholder="Buy coffee"
                                maxlength="80" minlength="4" required autofocus>
                            <label for="floatingInput fs-5">Task Name</label>
                        </div>
                        <div class="form-check d-flex justify-content-between form-switch p-0 my-2">
                            <label for="special" class="form-check-label fs-6">Â¿Already completed?</label>
                            <input type="checkbox" name="comp" class="form-check-input mt-2 ms-2">
                            <input type="submit" class="btn p-1 btn-primary ms-auto" value="Save task">
                        </div>
                    </form>
                </div>
                <div class="card-body mt-2">
                    <ul class="list-group">
                        {% for t in tareas  %}
                        <li class="list-group-item mb-1">
                            <span {% if t.status == 0 %} id="done" {% endif %}
                                class="fs-6  fw-bolder">&#8594;&nbsp;{{t.title}}</span>
                            <div class="d-flex ">
                                <p class="text-start text-primary fst-normal flex-grow-1 m-0 mt-2"
                                    {% if t.status == 0 %} id="done-date" {% endif %}>{{t.date}}</p>
                                <a href="/done/{{t.id}}" class="btn btn-sm btn-success me-2">Done</a>
                                <a href="/delete/{{t.id}}" class="btn btn-sm btn-danger  ">Delete</a>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="card-footer">
                    <form action="{{url_for('busqueda_total')}}" class="form-check p-0">
                        <div class="input-group ">
                            <input type="text" class="form-control m-0 p-2" placeholder="Title, date or status">
                            <button class="btn btn-sm btn-primary m-0 p-1" type="button" id="button-addon2">Advanced
                                Search</button>
                        </div>
                    </form>
                    <div id="search"></div>
                </div>
            </div>
        </div>
        <div class="col-1">
            <a class="btn btn-outline-primary rounded-pill mb-5 " href="#search">Search a Task</a>
        </div>
    </div>
</main>

<footer class="pt-3 bg-light mt-5" id="footer">
    <div class="container ">
        <div class="p-0 text-center ">
            <p class="m-0 p-0 text-center text-primary">Constantino Edes - 2022</p>
        </div>
    </div class="">
    <hr>
</footer>



<ul>
    {% for tarea in tareas  %}
    <li>{{ tarea }}</li>
    {% endfor %}
</ul>

<div>
    <a class="" href="{{ url_for('agregar') }}">Agregar nueva tarea</a>
</div>

<div>
    <a href="{{ url_for('get_tareas') }}">Ver mis tareas</a>
    <br>
    <a href="{{ url_for('get_completadas') }}">Completas</a>
    <a href="{{ url_for('get_incompletas') }}">Incompletas</a>
</div>

<br><br><br><br>

<div>

    <form action="{{ url_for('busqueda_total') }}" method="GET">
        <span>Busca tarea por titulo:</span>
        <input type="text" name="title" placeholder="buscar...">
        <input type="submit" value="Buscar">
    </form>
</div>



{% endblock %}